<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>排序算法Java实现 | 唐伯虎点蜡烛</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="唐伯虎点蜡烛">
    <meta name="author" content="杨励志">
    <meta name="description" content="春风十里都不如你" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="唐伯虎点蜡烛" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    
    

    <!-- Custom stylesheet, (add custom styles here, always load last) -->
    <!-- Load our stylesheet for IE8 -->
    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
   <!-- <link href='//fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.useso.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'> -->

    <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
    <!--[if IE]>
    <link href='http://fonts.useso.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->










  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">
	  <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
		
		<div id="authorInfo">
			<div class="author-logo"></div><br/>
			<span>中二偏执懒惰的小夏目</span><br/>
		</div>
		<div class="sb-list">
               <div class="sb-item sb-posts">
                  <a href="/archives">
                    <span class="sb-item-count">4</span>
                    <span class="sb-item-name">日志</span>
                  </a>
               </div>
               <div class="sb-item sb-words">
                  <a href="javascript:void(0)">
                    <span class="sb-item-count">4.0k</span>
                    <span class="sb-item-name">字数</span>
                  </a>
               </div>
               <div class="sb-item sb-categories">
                  <a href="/categories">
                    <span class="sb-item-count">2</span>
                    <span class="sb-item-name">分类</span>
                  </a>
               </div>
        </div>
		<table class="sb-menu">
            <tr>
				<td class="tdLink"><a href="/" class="animsition-link" title="Home">首页</a></td>
				<td class="tdLink"><a href="/archives" class="animsition-link" title="archive">归档</a></td>
            <td class="tdLink">
			        	
        		<a class="sb-toggle-submenu">分类<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/hexo/" class="animsition-link">hexo<small>(2)</small></a></li>
				    
				    <li><a href="/categories/java/" class="animsition-link">java<small>(2)</small></a></li>
				    
				</ul>
			
			</td>
			</tr>
			<tr>
            
            <td  class="tdLink">
                <a class="sb-toggle-submenu">友情链接<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://go.kieran.top/" class="animsition-link">TKL主题作者</a></li>
                    
                    <li><a href="http://weibo.com/u/2413072655?s_all=1&is_all=1" class="animsition-link">新浪微博</a></li>
                    
                </ul>
            </td>
                     
				<td  class="tdLink"><a href="/about.html" class="animsition-link" title="about">关于我</a></td>
				<td  class="tdLink"><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></td>
			</tr>
		</table>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">唐伯虎点蜡烛</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://haymaicc.github.io/" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="http://weibo.com/u/2413072655?s_all=1&is_all=1" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->

        <!-- ============================ Hero Image =========================== -->



        <!-- ============================ END Hero Image =========================== -->
      
      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2016-12-05T10:20:12.000Z" itemprop="datePublished">
          2016-12-05
      </time>
    
    
    | 
    <a href='/tags/java/'>java</a>
    
    
</span>
                <h1>排序算法Java实现</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h3 id="冒泡排序-0-N-2"><a href="#冒泡排序-0-N-2" class="headerlink" title="冒泡排序 0(N^2)"></a>冒泡排序 0(N^2)</h3><p>执行非常慢，概念上最简单。最大的会一直被交换，冒泡上来<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] arrays = &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span> &#125;;</div><div class="line"><span class="keyword">int</span> out, in;</div><div class="line"><span class="keyword">for</span> (out = arrays.length - <span class="number">1</span>; out &gt; <span class="number">1</span>; out--) &#123; <span class="comment">// outer loop(backward)</span></div><div class="line">    <span class="keyword">for</span> (in = <span class="number">0</span>; in &lt; out; in++) &#123; <span class="comment">// inter loop(forward)</span></div><div class="line">        <span class="keyword">if</span> (arrays[in] &gt; arrays[in + <span class="number">1</span>]) &#123; <span class="comment">// out of order</span></div><div class="line">            <span class="keyword">int</span> temp = arrays[in]; <span class="comment">// swap them</span></div><div class="line">            arrays[in] = arrays[in + <span class="number">1</span>];</div><div class="line">            arrays[in + <span class="number">1</span>] = temp;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="选择排序0-N-2"><a href="#选择排序0-N-2" class="headerlink" title="选择排序0(N^2)"></a>选择排序0(N^2)</h3><p>比较所有的数据项，取出最小值，放左边。比较剩下的数据，取最小，放最左。。。。<br>内层循环中，每一个in的新位置，数据项a[in]和a[min]比较，如果a[in]更小，则min被赋值为in的值，这里只是下标，没交换。到一次内层循环结束，再交换数据项。这样，最小数据项就会一直被放在左边。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] arrays = &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span> &#125;;</div><div class="line"><span class="keyword">int</span> out, in, min, nElems = arrays.length;</div><div class="line"><span class="keyword">for</span> (out = <span class="number">0</span>; out &lt; nElems - <span class="number">1</span>; out++) &#123; <span class="comment">// outer loop</span></div><div class="line">    min = out; <span class="comment">// minimum</span></div><div class="line">    <span class="keyword">for</span> (in = out + <span class="number">1</span>; in &lt; nElems; in++) &#123; <span class="comment">// inner loop</span></div><div class="line">        <span class="keyword">if</span> (arrays[in] &lt; arrays[min]) &#123; <span class="comment">// if min greater</span></div><div class="line">            min = in; <span class="comment">// we have a new min</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> temp = arrays[out]; <span class="comment">// swap them</span></div><div class="line">    arrays[out] = arrays[min];</div><div class="line">    arrays[min] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="插入排序-N-N-1-2-2"><a href="#插入排序-N-N-1-2-2" class="headerlink" title="插入排序 N*(N-1)/2 /2"></a>插入排序 N*(N-1)/2 /2</h3><p>假设左边部分已经排序好了，从某个位置(比如10)开始无序，将10赋值给一临时值，然后和前面的数据比较，如果9位置比10大，就9右移一位，继续和8比较。。。直到到数据的最左边或找到比10位置数据小的某数据，放在它的右边，10位置的数据就排好了。<br>在大多数情况下，插入算法仍然需要0(N^2)的时间，但比冒泡快一倍，比选择排序也还要快一点。经常被用在较复杂的排序算法的最后阶段，例如快速排序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] arrays = &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span> &#125;;</div><div class="line"><span class="keyword">int</span> in, out, nElems = arrays.length;</div><div class="line"><span class="keyword">for</span> (out = <span class="number">1</span>; out &lt; nElems; out++) &#123; <span class="comment">// out is dividing line</span></div><div class="line">    <span class="keyword">int</span> temp = arrays[out]; <span class="comment">// remove marked item</span></div><div class="line">    in = out; <span class="comment">// start shifts at out</span></div><div class="line">    <span class="keyword">while</span> (in &gt; <span class="number">0</span> &amp;&amp; arrays[in - <span class="number">1</span>] &gt;= temp)<span class="comment">// until one is smaller,</span></div><div class="line">    &#123;</div><div class="line">        arrays[in] = arrays[in - <span class="number">1</span>];<span class="comment">// shift item right</span></div><div class="line">        --in;</div><div class="line">    &#125;</div><div class="line">    arrays[in] = temp; <span class="comment">// insert marked item</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="归并排序O-N-logN"><a href="#归并排序O-N-logN" class="headerlink" title="归并排序O(N logN)"></a>归并排序O(N logN)</h3><p>只要O(N logN)，而冒泡排序，选择排序，插入排序都要用O(N N);.<br>归并排序的思想是：将一个数组分成两半，然后分别排序，然后将数组的两半合并，合并的时候需要比较大小(合并的时候还要考虑两小数组还有没有数据，即有可能一边有，另一边没有)。至于如何排序1/2半的数组，当然是再分成两个1/4数组，再排序。。。直到分割的小数组只有1个数据项，不用排序了。这是用到递归的思想<br>归并排序的缺点，需要在存储器中有另一个大小等于被排序的数据项数目的空间，用来复制分割出来的小数组。<br>归并算法的效率由来：需要复制log<sub>2</sub><sup>N</sup>层(分子数组)，每一个层都是N个数据，所以是NxlogN.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] guibing() &#123;</div><div class="line">    <span class="keyword">int</span>[] arrays = &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span> &#125;;</div><div class="line">    <span class="keyword">int</span>[] workSpace = <span class="keyword">new</span> <span class="keyword">int</span>[arrays.length];</div><div class="line">    recMergeSort(arrays, workSpace, <span class="number">0</span>, arrays.length - <span class="number">1</span>);</div><div class="line">    <span class="keyword">return</span> arrays;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] source, <span class="keyword">int</span>[] workPlace, <span class="keyword">int</span> lowPtr, <span class="keyword">int</span> highPtr, <span class="keyword">int</span> upperBound)</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> j = <span class="number">0</span>; <span class="comment">// workspace index</span></div><div class="line">    <span class="keyword">int</span> lowerBound = lowPtr;</div><div class="line">    <span class="keyword">int</span> mid = highPtr - <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> n = upperBound - lowerBound + <span class="number">1</span>; <span class="comment">// size of items</span></div><div class="line">    <span class="comment">// 两边都有</span></div><div class="line">    <span class="keyword">while</span> (lowPtr &lt;= mid &amp;&amp; highPtr &lt;= upperBound) &#123;</div><div class="line">        <span class="keyword">if</span> (source[lowPtr] &lt; source[highPtr]) &#123;</div><div class="line">            workPlace[j++] = source[lowPtr++];</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            workPlace[j++] = source[highPtr++];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 只有左边</span></div><div class="line">    <span class="keyword">while</span> (lowPtr &lt;= mid) &#123;</div><div class="line">        workPlace[j++] = source[lowPtr++];</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 只有右边</span></div><div class="line">    <span class="keyword">while</span> (highPtr &lt;= upperBound) &#123;</div><div class="line">        workPlace[j++] = source[highPtr++];</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 把值复制到原对象</span></div><div class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">        source[lowerBound + j] = workPlace[j];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">recMergeSort</span><span class="params">(<span class="keyword">int</span>[] source, <span class="keyword">int</span>[] workSpace, <span class="keyword">int</span> lowerBound, <span class="keyword">int</span> upperBound)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (lowerBound == upperBound) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">int</span> mid = (lowerBound + upperBound) / <span class="number">2</span>;</div><div class="line">        recMergeSort(source, workSpace, lowerBound, mid);</div><div class="line">        recMergeSort(source, workSpace, mid + <span class="number">1</span>, upperBound);</div><div class="line">        merge(source, workSpace, lowerBound, mid + <span class="number">1</span>, upperBound);</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><p>希尔排序基于插入排序，但增加了一个新的特性，大大地提高了插入排序的执行效率。(希尔是个人名。。。)<br>改进的地方：插入算法中，如果一个数据比较小而居于最右边，那么它需要一个一个地移动所有中间的数据项，效率比较低。<br>希尔排序通过加入插入排序中元素之间的间隔，并在这些有间隔的元素中进行插入排序，从而使数据项能大跨度地移动。当这些数据项排过一趟序后，减小数据项的间隔。再进行排序，依次进行下去。间隔被称为增量，用h表示.<br>进行过几次增量排序后，所有的元素离它再最终有序序列中的位置相差不大，数组达到”基本有序”,这时再来插入排序，移动量非常小。<br>当h值很大的时候，数据项每一趟排序需要移动元素的个数很少，但数据项移动的距离很长，这是非常有效率的。当h减少时，每一趟排序需要移动的元素的个数增多，但是此时数据项已经接近于它们排序后最终的位置，这对于插入排序可以更有效率。<br>其中，h = h x 3 +1, h = (h -1) / 3,是经验值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] arrays = &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span> &#125;;</div><div class="line"><span class="keyword">int</span> inner, outer, nElems = arrays.length;</div><div class="line"><span class="keyword">int</span> temp;</div><div class="line"><span class="keyword">int</span> h = <span class="number">1</span>;</div><div class="line"><span class="keyword">while</span> (h &lt;= nElems / <span class="number">3</span>) &#123;</div><div class="line">    h = h * <span class="number">3</span> + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">while</span> (h &gt; <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">for</span> (outer = h; outer &lt; nElems; outer++) &#123;</div><div class="line">        temp = arrays[outer];</div><div class="line">        inner = outer;</div><div class="line">        <span class="keyword">while</span> (inner &gt; h - <span class="number">1</span> &amp;&amp; arrays[inner - h] &gt;= temp) &#123;</div><div class="line">            arrays[inner] = arrays[inner - h];</div><div class="line">            inner -= h;</div><div class="line">        &#125;</div><div class="line">        arrays[inner] = temp;</div><div class="line">    &#125;</div><div class="line">    h = (h - <span class="number">1</span>) / <span class="number">3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="划分算法"><a href="#划分算法" class="headerlink" title="划分算法"></a>划分算法</h3><p>划分是快速排序的根本机制，但是划分本身也是一个有用的操作，这里单讲划分的算法。<br>划分数据就是把数据分为两组，使所有关键字大于特定值的数据项在一组，使所有关键字小于特定值的数据项在另一组。</p>
<p>划分算法由两个指针开始工作，两个指针分别指向数组的两头。在左边的指针，leftPtr，向右移动，而在右边的指针，rightPtr，向左移动。<br>实际上，leftPtr初始化时是在第一个数据项的左边一位(-1)，rightPtr是在最后一个数据项的右边一位(size)，这是因为在工作之前，它们都要分别的加一和减一。<br>停止和交换：当leftPtr遇到比枢纽(特定值，划分值)小的数据项时，它继续右移，因为这个数据项的位置已经处在数组的正确一边了。但是，当遇到比枢纽大的数据项时，它就停下来。类似的，当rightPtr遇到小于枢纽的数据项时，它也停下来。两个内层的while循环，控制这个扫面过程，当两个都停下来时，要么指针到头要么遇到错误的数据(大小比较不对)，做交换(更换位置，正确排列了)。<br>当两个指针最终相遇的时候，划分过程结束，并且推出这个外层的while循环。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] huafen() &#123;</div><div class="line">    <span class="keyword">int</span>[] arrays = &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span> &#125;;</div><div class="line">    sort(arrays, <span class="number">6</span>);</div><div class="line">    <span class="keyword">return</span> arrays;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] ary, <span class="keyword">int</span> base)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> right = ary.length - <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> leftpoint = left, rightpoint = right;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">        <span class="comment">// 分成左右两边同时进行比较，一边从左向右，一边从右向左，</span></div><div class="line">        <span class="keyword">while</span> (leftpoint &lt; right &amp;&amp; ary[leftpoint++] &lt; base)</div><div class="line">            ; <span class="comment">// leftpoint大于right或ary[leftpoint]&gt;base停止循环</span></div><div class="line"></div><div class="line">        <span class="keyword">while</span> (rightpoint &gt;= left &amp;&amp; ary[rightpoint--] &gt; base)</div><div class="line">            ; <span class="comment">// 反之</span></div><div class="line">        System.out.println(<span class="string">"左边需要交换的索引:"</span> + (leftpoint - <span class="number">1</span>));</div><div class="line">        System.out.println(<span class="string">"右边需要交换的索引:"</span> + (rightpoint + <span class="number">1</span>));</div><div class="line">        <span class="comment">// 上面拿到了不符合条件的两个索引，即需要交换的两个索引</span></div><div class="line">        <span class="keyword">if</span> (leftpoint - <span class="number">1</span> &lt; rightpoint + <span class="number">1</span>) &#123;<span class="comment">// 需要交换</span></div><div class="line">            <span class="keyword">int</span> temp = ary[leftpoint - <span class="number">1</span>];</div><div class="line">            ary[leftpoint - <span class="number">1</span>] = ary[rightpoint + <span class="number">1</span>];</div><div class="line">            ary[rightpoint + <span class="number">1</span>] = temp;</div><div class="line">            leftpoint = left;</div><div class="line">            rightpoint = right;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p>最流行的排序算法，时间复杂度为O(N*logN)。虽然不觉得这种行为好，但有的公司喜欢笔试时让人手写快排(一些开发者如是说)。<br>原理是：把一个数组划分为两个子数组，这里用到划分算法，左子数组的数据项都小于右子数组的数据项，然后递归地调用自身为每个子数组进行快速排序来实现，最后使用插入排序。</p>
<p>在这个算法中划分的关键值(枢纽)的选择非常重要。<br>最初思想，选用数组最右边的值为pivot,进行一次划分，划分的结果就是left-&gt;mid-1, mid-&gt;right-1, right(这个位置的值是pivot)，三部分，然后交换mid和right的值(划分算法的leftPtr在停止时会停在mid位置)，这样pivot就到中间，而小于pivot的值全在左边，大于的值全在右边，数组的排序不受影响。<br>下面的排序从left到pivot-1,pivot+到right。中间项不参与划分。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] quickSort() &#123;</div><div class="line">    <span class="keyword">int</span>[] arrays = &#123; <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span> &#125;;</div><div class="line">    qsort(arrays, <span class="number">0</span>, arrays.length - <span class="number">1</span>);</div><div class="line">    <span class="keyword">return</span> arrays;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">qsort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (low &lt; high) &#123;</div><div class="line">        <span class="keyword">int</span> pivot = partition(arr, low, high); <span class="comment">// 将数组分为两部分</span></div><div class="line">        qsort(arr, low, pivot - <span class="number">1</span>); <span class="comment">// 递归排序左子数组</span></div><div class="line">        qsort(arr, pivot + <span class="number">1</span>, high); <span class="comment">// 递归排序右子数组</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> pivot = arr[low]; <span class="comment">// 枢轴记录</span></div><div class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</div><div class="line">        <span class="keyword">while</span> (low &lt; high &amp;&amp; arr[high] &gt;= pivot)</div><div class="line">            --high;</div><div class="line">        arr[low] = arr[high]; <span class="comment">// 交换比枢轴小的记录到左端</span></div><div class="line">        <span class="keyword">while</span> (low &lt; high &amp;&amp; arr[low] &lt;= pivot)</div><div class="line">            ++low;</div><div class="line">        arr[high] = arr[low]; <span class="comment">// 交换比枢轴小的记录到右端</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 扫描完成，枢轴到位</span></div><div class="line">    arr[low] = pivot;</div><div class="line">    <span class="comment">// 返回的是枢轴的位置</span></div><div class="line">    <span class="keyword">return</span> low;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>作者 <a href="http://weibo.com/u/2413072655?s_all=1&amp;is_all=1" target="_blank" rel="external">夏目</a><br>2016 年 12月 05日</p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    
    <a class="pull-right" href="/2016/05/06/poi/">
        POI 导出大量数据到Excel →
    </a>
    
</nav>

        <div class="duoshuo">
<div class="ds-thread" data-thread-key="2016/12/05/sort/" data-title="排序算法Java实现" data-url="http://haymai.cc/2016/12/05/sort/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"haymai"};
(function() {
	var ds = document.createElement('script');
	ds.type = 'text/javascript';ds.async = true;
	ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0] 
	 || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By 杨励志. All Rights Reserved.
                </p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://haymaicc.github.io/" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="http://weibo.com/u/2413072655?s_all=1&is_all=1" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };
    
    resizeHero();
    
    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
